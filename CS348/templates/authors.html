{% extends 'base.html' %}

{% block content %}
    <h1>Authors</h1>
    <form action="{{ url_for('authors') }}" method="post">
        <label for="author">Select Author:</label>
        <select id="author" name="author_id">
            {% for author in authors %}
                <option value="{{ author.author_id }}">{{ author.first_name }} {{ author.last_name }}</option>
            {% endfor %}
        </select>
        <button type="submit">View Books</button>
    </form>

    {% if selected_author %}
        <h2>Books by {{ selected_author.first_name }} {{ selected_author.last_name }}</h2>
        <ul>
            {% for book in selected_author.books %}
                <li>{{ book.title }} ({{ book.publication_year }})</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endblock %}